# ===================================================================
# CALIBRE LIBRARY CONFIGURATION
# ===================================================================
# Path to your Calibre library directory
# This should point to the directory containing metadata.db
CALIBRE_LIBRARY_PATH=/path/to/your/calibre/library
WATCH_CALIBRE_DB=true  # Auto-detect changes from Calibre desktop

# Example paths:
# macOS: /Users/username/Calibre Library
# Linux: /home/username/Calibre Library
# Windows: C:/Users/username/Calibre Library

# ===================================================================
# DATABASE CONFIGURATION (PostgreSQL for user data)
# ===================================================================
# External PostgreSQL database connection
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://user:password@host:5432/database
POSTGRES_PASSWORD=generate-a-secure-password-here

# ===================================================================
# REDIS CONFIGURATION (Caching)
# ===================================================================
# For Docker: redis://redis:6379
# For local: redis://localhost:6379
REDIS_URL=redis://redis:6379
CACHE_TTL=3600  # Cache time-to-live in seconds
ENABLE_CACHE=true  # Enable/disable caching globally
ENABLE_AUTH_CACHE=true  # Cache user sessions for better performance
AUTH_CACHE_TTL=300  # User cache TTL in seconds

# ===================================================================
# API CONFIGURATION
# ===================================================================
API_HOST=0.0.0.0
API_PORT=8000
MAX_SEARCH_RESULTS=100

# CORS Configuration (comma-separated origins)
CORS_ORIGINS=http://localhost:3001,http://localhost:3003,http://localhost:5173

# Frontend URL (for Kindle pairing QR codes and links)
FRONTEND_URL=http://localhost:3000

# ===================================================================
# AUTHENTICATION & SECURITY
# ===================================================================
SECRET_KEY=generate-a-random-secret-key-at-least-32-characters-long
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ===================================================================
# GOOGLE DRIVE STORAGE (Optional - for books stored in Google Drive)
# ===================================================================
# Enable if your books are stored in Google Drive instead of local filesystem
USE_GOOGLE_DRIVE=false
# For Docker: /credentials.json (mounted volume)
# For local: ./service-account.json
GOOGLE_DRIVE_CREDENTIALS_PATH=/credentials.json
GOOGLE_DRIVE_FOLDER_ID=

# ===================================================================
# AWS S3 STORAGE (Optional - for cover images stored in S3)
# ===================================================================
# Enable if you want to store cover images in S3 for better scalability
USE_S3_COVERS=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=
S3_COVERS_PREFIX=covers/

# ===================================================================
# AWS SES EMAIL SERVICE (Optional - for sending emails)
# ===================================================================
USE_AWS_SES=false
SES_FROM_EMAIL=noreply@example.com
SES_FROM_NAME=Your App Name

# ===================================================================
# RSS TO EPUB CONFIGURATION
# ===================================================================
RSS_EPUB_OUTPUT_DIR=/data/rss-epubs

# ===================================================================
# FRONTEND CONFIGURATION
# ===================================================================
# API URL - use relative path for proxy (Vite proxies /api to backend:8000)
# In development: /api is proxied by Vite dev server
# In production: /api is proxied by Nginx
VITE_API_URL=/api

# ===================================================================
# DOCKER COMPOSE MODE
# ===================================================================
# For development (default): Uses docker-compose.dev.yml automatically
COMPOSE_FILE=docker-compose.yml:docker-compose.dev.yml
FRONTEND_PORT=3001

# For production: Use docker-compose.prod.yml
# COMPOSE_FILE=docker-compose.yml:docker-compose.prod.yml
# FRONTEND_PORT=80
